# 正则表达式

## 前瞻后顾

- 前瞻：exp1(?=exp2) 自右向左，查找右侧匹配 exp2 的 exp1。例如：six(?=\d) 能匹配 six6 中的 six
- 负前瞻：exp1(?!exp2) 自右向左，查找右侧不是 exp2 的 exp1。例如：six(?!\d) 能匹配 six@ 中的 six
- 后顾：(?<=exp2)exp1 自左向右，查找左侧不匹配 exp2 的 exp1。例如：(?<=\d)th 能匹配 9th 中的 th
- 负后顾：(?<!exp2)exp1 自左向右，查找左侧不匹配 exp2 的 exp1。例如：(?<!\d)th 能匹配 heath 中的 th

记忆口诀：<看左边，没有<看右边，感叹号是非的意思。

典型示例：

- Q：将 12000000.11 转化为 12,000,000.11
- A：number.replace(/\B(?=(\d{3})+(?!\d))/g, ",");

匹配过程：

- 12,000000.11
- 12,000,000.11

解释：

- \B 表示非单词边界。
- (?=) 表示匹配右边是“表达式”的位置。使用该模式时，匹配方向将由右向左匹配。
- (\d{3})+ 表示 3 个数字为一组，每组至少出现 1 次。
- (?!) 表示右边不能为数字。基于 ?= 的匹配方向是由右向左，所以匹配到的是 .，. 向左可以匹配到一组三个数字，因为是 + ，可以匹配到两组后匹配失败就找到了第一个位置，就是 12

## 修饰符

g 修饰符，使表达式匹配到一次后，把下次匹配的开始设置为结束时 regex1.lastIndex

## 参考

- 小菠萝正则教程 https://www.cnblogs.com/poloyy/category/1796055.html
- 在线工具 https://tool.lu/regex/
